{% from 'admin/components/form_section.html' import form_section %}
{% from 'admin/macros/forms.html' import render_label, render_form_field, render_field_error, render_form_group %}


{% call form_section("Media", "bx bxs-image", collapsed=True) %}
    {% call render_form_group() %}
        {{ render_label("images", "Product Images", classes="block mb-2 text-sm font-medium") }}
        {{ form.images(class_='form-control form-input block w-full', multiple=True, id='product-images-input') }}
        <p class="text-xs text-gray-500 mt-1">Accepts images (jpg, png, webp). Select multiple files.</p>
        
        <!-- Image Preview Container -->
        <div id="image-preview-container" class="flex flex-wrap gap-4 mt-4"></div>
        
        {% for error in form.images.errors %}
            <div class="alert alert-error form-error" role="alert">
                {{ error }}
            </div>
        {% endfor %}
    {% endcall %}
{% endcall %}
