{% extends 'admin/base/index.html' %}
{% from 'admin/macros/cards.html' import render_stat_card %}
{% from 'admin/macros/layout.html' import render_grid %}

{% block title %}Admin Dashboard - {{ super() }}{% endblock %}

{% block content %}
<div class="space-y-6">
    {# Statistics Cards #}
    {% call render_grid(columns=4, gap=4, responsive=True) %}
        {% for key, value in stats.items() if key not in ['recent_orders', 'recent_products'] %}
            {% if key in ['total_products', 'total_categories', 'total_tags', 'total_users'] %}
                {% set icons = {
                    'total_products': 'bx bx-package',
                    'total_categories': 'bx bx-category',
                    'total_tags': 'bx bx-purchase-tag',
                    'total_users': 'bx bx-user'
                } %}
                {{ render_stat_card(
                    label=key|replace('_', ' ')|title,
                    value=value,
                    icon=icons.get(key, 'bx bx-bar-chart'),
                    icon_color='primary'
                ) }}
            {% endif %}
        {% endfor %}
    {% endcall %}
    
    {# Recent Orders and Products #}
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
        {% with recent_orders=stats.recent_orders %}
            {% include 'admin/pages/dashboard/components/recent_orders.html' %}
        {% endwith %}
        
        {% with recent_products=stats.recent_products %}
            {% include 'admin/pages/dashboard/components/recent_products.html' %}
        {% endwith %}
    </div>
</div>
{% endblock %}